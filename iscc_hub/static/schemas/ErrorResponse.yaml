$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "http://purl.org/iscc/schema/error-response.json"
title: "ErrorResponse"
type: object
description: |
  Standard error response for ISCC-HUB API operations
required:
  - error
properties:
  error:
    type: object
    title: "ErrorDetail"
    required:
      - message
    properties:
      message:
        type: string
        description: |
          Human-readable error message
      code:
        type: string
        description: |
          Machine-readable error code for programmatic handling.
          Common codes: invalid_iscc, timestamp_out_of_range, invalid_signature,
          duplicate_declaration, validation_failed, nonce_mismatch
      field:
        type: string
        description: |
          Field name that caused the error (for validation errors)
      errors:
        type: array
        description: |
          Multiple validation errors (optional)
        items:
          type: object
          title: "FieldError"
          required:
            - message
          properties:
            field:
              type: string
              description: Field name
            message:
              type: string
              description: Error message for this field
            code:
              type: string
              description: Error code for this field
examples:
  - error:
      message: "Invalid ISCC code format"
      code: "invalid_iscc"
      field: "iscc_code"
  - error:
      message: "Validation failed"
      code: "validation_failed"
      errors:
        - field: "iscc_code"
          message: "ISCC code must be 34-73 characters"
          code: "invalid_length"
        - field: "timestamp"
          message: "Timestamp must be within Â±10 minutes of server time"
          code: "timestamp_out_of_range"
