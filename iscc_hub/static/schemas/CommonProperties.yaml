$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "http://purl.org/iscc/schema/common-properties.json"
title: "CommonProperties"
type: object
description: |
  Shared properties used across ISCC schema definitions.
  
  These properties provide common fields for ISCC declarations and receipts.
properties:
  iscc_id:
    type: string
    description: |
      Unique ISCC-ID assigned by the ISCC-HUB
      
      **Format:** `ISCC:` followed by 16 characters encoding timestamp and hub ID
      **Structure:** 64-bit identifier (52-bit timestamp + 12-bit hub ID)
    pattern: "^ISCC:[A-Z0-9]{16}$"
    minLength: 21
    maxLength: 21
    examples:
      - "ISCC:MAACCD3C6YZJ4IQM"
      - "ISCC:MAACEF5G8YZJ7KLN"
  timestamp:
    type: string
    format: date-time
    description: |
      RFC 3339 formatted timestamp of IsccNote creation time in UTC with millisecond precision
      
      **Format:** `YYYY-MM-DDTHH:MM:SS.sssZ`
      **Example:** `2025-08-04T12:34:56.789Z`
      
      **Requirements:**
      - The `Z` suffix MUST be used to indicate UTC
      - Indicates when the IsccNote was created and signed
      - HUBs MUST reject timestamps outside Â±10 minutes from current time
    examples:
      - "2025-01-15T12:00:00.000Z"
      - "2025-08-12T14:30:00.123Z"
  nonce:
    type: string
    minLength: 32
    maxLength: 32
    description: |
      Unique 128-bit random value for replay protection
      
      **Format:** 32 lowercase hex characters
      **Structure:** First 12 bits encode the target hub_id (0-4095)
    pattern: "^[0-9a-f]{32}$"
    examples:
      - "000faa3f18c7b9407a48536a9b00c4cb"
      - "001234567890abcdef1234567890abcd"
  signature:
    $ref: "./IsccSignature.yaml"